MOVStreamContext* sc
*sc = st->priv_data
if (st->codecpar->codec_id != AV_CODEC_ID_HEVC || !sc->sync_group_count)
sc->sample_offsets_count = 0
for (uint32_t i = 0;i < sc->ctts_count;i++)
sc->sample_offsets_count += sc->ctts_data[i].count
av_freep(&sc->sample_offsets)
sc->sample_offsets = av_calloc(sc->sample_offsets_count, sizeof(*sc->sample_offsets))
if (!sc->sample_offsets)
for (uint32_t i = 0;i < sc->ctts_count;i++)
uint32_t cra_index
cra_index = get_sgpd_sync_index(sc, HEVC_NAL_CRA_NUT)
if (!cra_index)
for (uint32_t i = 0;i < sc->sync_group_count;i++)
sc->sync_group[i].index