struct bt_gatt_server* server
*server = user_data
if (length < 4)
if (queue_length(server->prep_queue) >= server->max_prep_queue_len)
uint16_t handle
handle = get_le16(pdu)
uint16_t offset
offset = get_le16(pdu + 2)
struct gatt_db_attribute* attr
attr = gatt_db_get_attribute(server->db, handle)
if (!attr)
check_length(length, offset)